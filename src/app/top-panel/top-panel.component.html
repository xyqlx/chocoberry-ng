<mat-card class="panel-card">
  <mat-card-header
    ><mat-card-title
      >性能{{ this.shouldUpdate ? "" : "（暂停中）" }}</mat-card-title
    ></mat-card-header
  >
  <mat-card-content>
    <div class="card-inner">
      <div class="performance-container">
        <div class="cpu-container">
          <span *ngIf="cpuInfo">{{ cpuInfo.percent | number : "1.1-1" }}%</span>
        </div>
        <div>
          <span *ngIf="memInfo">
            <span class="mem-used">{{
              memInfo.total - memInfo.free | number : "1.1-1"
            }}</span>
            <span class="mem-total"
              >/{{ memInfo.total | number : "1.1-1" }}G</span
            >
          </span>
        </div>
      </div>
      <div class="table-container">
        <table
          mat-table
          [dataSource]="topInfo"
          (mouseenter)="stopUpdate()"
          (mouseleave)="continueUpdate()"
          class="mat-elevation-z8"
        >
          <ng-container matColumnDef="command">
            <th mat-header-cell *matHeaderCellDef>Cmd</th>
            <td
              mat-cell
              *matCellDef="let element"
              [matTooltip]="element?.process?.cmd"
              [matTooltipHideDelay]="200"
              matTooltipPosition="left"
            >
              {{ element.COMMAND }}
            </td>
          </ng-container>
          <ng-container matColumnDef="user">
            <th mat-header-cell *matHeaderCellDef>User</th>
            <td mat-cell *matCellDef="let element">{{ element.USER }}</td>
          </ng-container>
          <ng-container matColumnDef="cpu">
            <th mat-header-cell *matHeaderCellDef>%CPU</th>
            <td mat-cell *matCellDef="let element">{{ element["%CPU"] }}</td>
          </ng-container>
          <ng-container matColumnDef="mem">
            <th mat-header-cell *matHeaderCellDef>%MEM</th>
            <td mat-cell *matCellDef="let element">{{ element["%MEM"] }}</td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </div>
  </mat-card-content>
</mat-card>
